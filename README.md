# ç½‘é¡µä¼‘çœ å¤§å¸ˆ (Tab Hibernator)

ä¸€ä¸ªåŸºäº WXT æ¡†æ¶å¼€å‘çš„æµè§ˆå™¨æ’ä»¶ï¼Œå¯ä»¥è‡ªåŠ¨ä¼‘çœ ä¸æ´»è·ƒçš„æ ‡ç­¾é¡µä»¥èŠ‚çœå†…å­˜å’ŒCPUèµ„æºã€‚

## â­ Star History

[![Star History Chart](https://api.star-history.com/svg?repos=guicaiyue/tab-hibernator&type=Date)](https://star-history.com/#guicaiyue/tab-hibernator&Date)

## åŠŸèƒ½ç‰¹æ€§

- ğŸ›Œ **è‡ªåŠ¨ä¼‘çœ **ï¼šè‡ªåŠ¨æ£€æµ‹å¹¶ä¼‘çœ ä¸æ´»è·ƒçš„æ ‡ç­¾é¡µ
- â° **å¯é…ç½®å»¶è¿Ÿ**ï¼šè‡ªå®šä¹‰æ ‡ç­¾é¡µä¼‘çœ çš„æ—¶é—´å»¶è¿Ÿï¼ˆé»˜è®¤5åˆ†é’Ÿï¼‰
- ğŸ¯ **æ™ºèƒ½è¿‡æ»¤**ï¼šè‡ªåŠ¨æ’é™¤æ´»åŠ¨æ ‡ç­¾é¡µã€å›ºå®šæ ‡ç­¾é¡µã€æ­£åœ¨æ’­æ”¾éŸ³é¢‘çš„æ ‡ç­¾é¡µ
- ğŸ“ **ç™½åå•æ”¯æŒ**ï¼šæ”¯æŒè®¾ç½®åŸŸåç™½åå•ï¼Œé˜²æ­¢ç‰¹å®šç½‘ç«™è¢«ä¼‘çœ 
- ğŸ“Š **å®æ—¶ç»Ÿè®¡**ï¼šæ˜¾ç¤ºæ ‡ç­¾é¡µç»Ÿè®¡ä¿¡æ¯ï¼ˆæ€»æ•°ã€æ´»åŠ¨ã€ä¼‘çœ ã€æœ‰å£°ï¼‰
- ğŸ›ï¸ **æ‰‹åŠ¨æ§åˆ¶**ï¼šæ”¯æŒæ‰‹åŠ¨ä¼‘çœ æ‰€æœ‰éæ´»åŠ¨æ ‡ç­¾é¡µ

## å®‰è£…æ–¹æ³•

### ğŸª åº”ç”¨å•†åº—å®‰è£…ï¼ˆæ¨èï¼‰

- **Chrome Web Store**: æœç´¢"ç½‘é¡µä¼‘çœ å¤§å¸ˆ"æˆ–"Tab Hibernator"
- **Firefox Add-ons**: æœç´¢"Tab Hibernator"
- **Microsoft Edge Add-ons**: æœç´¢"ç½‘é¡µä¼‘çœ å¤§å¸ˆ"æˆ–"Tab Hibernator"

### ğŸ› ï¸ å¼€å‘è€…å®‰è£…

#### Chrome/Edge æµè§ˆå™¨

1. æ‰“å¼€æµè§ˆå™¨çš„æ‰©å±•ç®¡ç†é¡µé¢ï¼š
   - Chrome: `chrome://extensions/`
   - Edge: `edge://extensions/`

2. å¼€å¯ã€Œå¼€å‘è€…æ¨¡å¼ã€

3. ç‚¹å‡»ã€ŒåŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åºã€

4. é€‰æ‹©é¡¹ç›®ä¸­çš„ `.output/chrome-mv3` æ–‡ä»¶å¤¹

5. æ’ä»¶å®‰è£…å®Œæˆåï¼Œä¼šåœ¨æµè§ˆå™¨å·¥å…·æ æ˜¾ç¤ºä¸€ä¸ªè“è‰²çš„ã€ŒZã€å›¾æ ‡

## ä½¿ç”¨è¯´æ˜

### åŸºæœ¬ä½¿ç”¨

1. ç‚¹å‡»æµè§ˆå™¨å·¥å…·æ ä¸­çš„æ’ä»¶å›¾æ ‡æ‰“å¼€æ§åˆ¶é¢æ¿
2. æ’ä»¶ä¼šè‡ªåŠ¨å¼€å§‹ç›‘æ§æ ‡ç­¾é¡µæ´»åŠ¨
3. è¶…è¿‡è®¾å®šæ—¶é—´æœªæ´»åŠ¨çš„æ ‡ç­¾é¡µå°†è‡ªåŠ¨ä¼‘çœ 

### è®¾ç½®é…ç½®

åœ¨æ’ä»¶å¼¹çª—ä¸­å¯ä»¥é…ç½®ï¼š

- **ä¼‘çœ å»¶è¿Ÿæ—¶é—´**ï¼šè®¾ç½®æ ‡ç­¾é¡µå¤šé•¿æ—¶é—´æœªæ´»åŠ¨åè¿›å…¥ä¼‘çœ ï¼ˆå•ä½ï¼šåˆ†é’Ÿï¼‰
- **ç™½åå•åŸŸå**ï¼šæ·»åŠ ä¸å¸Œæœ›è¢«ä¼‘çœ çš„ç½‘ç«™åŸŸåï¼Œæ¯è¡Œä¸€ä¸ª

### æ‰‹åŠ¨æ“ä½œ

- **ç«‹å³ä¼‘çœ **ï¼šç‚¹å‡»ã€Œä¼‘çœ æ‰€æœ‰éæ´»åŠ¨æ ‡ç­¾é¡µã€æŒ‰é’®å¯ç«‹å³ä¼‘çœ æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„æ ‡ç­¾é¡µ
- **åˆ·æ–°ç»Ÿè®¡**ï¼šç‚¹å‡»ã€Œåˆ·æ–°ç»Ÿè®¡ã€æŒ‰é’®å¯æ›´æ–°æ ‡ç­¾é¡µç»Ÿè®¡ä¿¡æ¯

## æŠ€æœ¯å®ç°

### æ ¸å¿ƒåŠŸèƒ½

- ä½¿ç”¨ `chrome.tabs.discard()` API å®ç°æ ‡ç­¾é¡µä¼‘çœ 
- ç›‘å¬ `tabs.onActivated`ã€`tabs.onUpdated` ç­‰äº‹ä»¶è·Ÿè¸ªæ ‡ç­¾é¡µæ´»åŠ¨
- ä½¿ç”¨ `chrome.storage.local` å­˜å‚¨ç”¨æˆ·è®¾ç½®
- å®šæ—¶æ£€æŸ¥æœºåˆ¶ï¼ˆæ¯åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡ï¼‰

### æ™ºèƒ½è¿‡æ»¤è§„åˆ™

æ’ä»¶ä¼šè‡ªåŠ¨æ’é™¤ä»¥ä¸‹ç±»å‹çš„æ ‡ç­¾é¡µï¼š
- å½“å‰æ´»åŠ¨çš„æ ‡ç­¾é¡µ
- å·²å›ºå®šçš„æ ‡ç­¾é¡µ
- å·²ç»å¤„äºä¼‘çœ çŠ¶æ€çš„æ ‡ç­¾é¡µ
- æ­£åœ¨æ’­æ”¾éŸ³é¢‘çš„æ ‡ç­¾é¡µ
- ç™½åå•ä¸­çš„åŸŸå
- ç‰¹æ®Šé¡µé¢ï¼ˆchrome://ã€about:// ç­‰ï¼‰

## å¼€å‘è¯´æ˜

### æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: WXT (Web Extension Toolkit)
- **è¯­è¨€**: TypeScript/JavaScript
- **æ„å»ºå·¥å…·**: Vite
- **åŒ…ç®¡ç†**: npm

### å¼€å‘å‘½ä»¤

```bash
# å®‰è£…ä¾èµ–
npm install

# å¼€å‘æ¨¡å¼ï¼ˆçƒ­é‡è½½ï¼‰
npm run dev          # Chromeï¼ˆé»˜è®¤ï¼‰
npm run dev:chrome   # Chrome
npm run dev:firefox  # Firefox
npm run dev:edge     # Microsoft Edge

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build        # Chromeï¼ˆé»˜è®¤ï¼‰
npm run build:chrome # Chrome
npm run build:firefox # Firefox
npm run build:edge   # Microsoft Edge

# æ‰“åŒ…ä¸ºZIPæ–‡ä»¶ï¼ˆç”¨äºå‘å¸ƒï¼‰
npm run zip          # Chromeï¼ˆé»˜è®¤ï¼‰
npm run zip:chrome   # Chrome
npm run zip:firefox  # Firefox
npm run zip:edge     # Microsoft Edge
npm run zip:all      # æ‰€æœ‰æµè§ˆå™¨
```

### é¡¹ç›®ç»“æ„

```
browser-hibernation/
â”œâ”€â”€ entrypoints/
â”‚   â”œâ”€â”€ background.ts      # åå°è„šæœ¬
â”‚   â””â”€â”€ popup.html         # å¼¹çª—é¡µé¢
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ icon-16.png        # 16x16 å›¾æ ‡
â”‚   â”œâ”€â”€ icon-48.svg        # 48x48 å›¾æ ‡
â”‚   â””â”€â”€ icon-128.svg       # 128x128 å›¾æ ‡
â”œâ”€â”€ wxt.config.ts          # WXT é…ç½®æ–‡ä»¶
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```

## æ³¨æ„äº‹é¡¹

1. **æ•°æ®ä¿æŠ¤**ï¼šä¼‘çœ çš„æ ‡ç­¾é¡µä¼šä¿ç•™åœ¨æ ‡ç­¾æ ä¸­ï¼Œé‡æ–°æ¿€æ´»æ—¶ä¼šè‡ªåŠ¨æ¢å¤
2. **ID å˜åŒ–**ï¼šä¼‘çœ åçš„æ ‡ç­¾é¡µ ID å¯èƒ½ä¼šå‘ç”Ÿå˜åŒ–ï¼Œæ’ä»¶å·²å¤„ç†æ­¤æƒ…å†µ
3. **æƒé™è¦æ±‚**ï¼šæ’ä»¶éœ€è¦ `tabs`ã€`storage`ã€`activeTab` æƒé™
4. **å…¼å®¹æ€§**ï¼šæ”¯æŒ Chromeã€Firefoxã€Microsoft Edge ç­‰ä¸»æµæµè§ˆå™¨

## ğŸš€ å¼€å‘ä¸å‘å¸ƒ

### æœ¬åœ°å¼€å‘

```bash
# å®‰è£…ä¾èµ–
pnpm install

# å¼€å‘æ¨¡å¼ï¼ˆChromeï¼‰
pnpm run dev

# å¼€å‘æ¨¡å¼ï¼ˆFirefoxï¼‰
pnpm run dev:firefox

# å¼€å‘æ¨¡å¼ï¼ˆEdgeï¼‰
pnpm run dev:edge
```

### æ„å»ºæ‰“åŒ…

```bash
# æ„å»ºæ‰€æœ‰æµè§ˆå™¨ç‰ˆæœ¬
pnpm run build:chrome
pnpm run build:firefox
pnpm run build:edge

# æ‰“åŒ…ä¸ºZIPæ–‡ä»¶
pnpm run zip:chrome
pnpm run zip:firefox
pnpm run zip:edge

# ä¸€é”®æ‰“åŒ…æ‰€æœ‰ç‰ˆæœ¬
pnpm run zip:all
```

### ğŸ¤– è‡ªåŠ¨å‘å¸ƒ

æœ¬é¡¹ç›®é…ç½®äº†GitHub Actionsè‡ªåŠ¨å‘å¸ƒå·¥ä½œæµï¼š

- **è§¦å‘æ¡ä»¶**ï¼šå½“`main`åˆ†æ”¯çš„`package.json`ç‰ˆæœ¬å·å‘ç”Ÿå˜æ›´æ—¶è‡ªåŠ¨è§¦å‘
- **å‘å¸ƒå¹³å°**ï¼šåŒæ—¶å‘å¸ƒåˆ°Chrome Web Storeã€Firefox Add-onsã€Microsoft Edge Add-ons
- **å‘å¸ƒæµç¨‹**ï¼šè‡ªåŠ¨æ„å»º â†’ æäº¤å®¡æ ¸ â†’ åˆ›å»ºGitHub Release

#### å‘å¸ƒæ­¥éª¤

1. ä¿®æ”¹`package.json`ä¸­çš„ç‰ˆæœ¬å·
2. æäº¤å¹¶æ¨é€åˆ°`main`åˆ†æ”¯
3. GitHub Actionsè‡ªåŠ¨å¤„ç†åç»­å‘å¸ƒæµç¨‹

è¯¦ç»†é…ç½®è¯´æ˜è¯·å‚è€ƒï¼š[RELEASE_SETUP.md](./RELEASE_SETUP.md)

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License](https://creativecommons.org/licenses/by-nc-sa/4.0/) è®¸å¯è¯ã€‚

### è®¸å¯è¯è¯´æ˜

- âœ… **å…è®¸**ï¼šåˆ†äº«ã€ä¿®æ”¹ã€åŸºäºæœ¬é¡¹ç›®åˆ›å»ºè¡ç”Ÿä½œå“
- âŒ **ç¦æ­¢**ï¼šå•†ä¸šä½¿ç”¨
- ğŸ“ **è¦æ±‚**ï¼šç½²ååŸä½œè€…ï¼Œè¡ç”Ÿä½œå“éœ€ä½¿ç”¨ç›¸åŒè®¸å¯è¯

### ä½¿ç”¨æ¡æ¬¾

- **ç½²åï¼ˆAttributionï¼‰**ï¼šä½¿ç”¨æ—¶å¿…é¡»æ³¨æ˜åŸä½œè€…
- **éå•†ä¸šæ€§ä½¿ç”¨ï¼ˆNonCommercialï¼‰**ï¼šä¸å¾—ç”¨äºå•†ä¸šç›®çš„
- **ç›¸åŒæ–¹å¼å…±äº«ï¼ˆShareAlikeï¼‰**ï¼šåŸºäºæœ¬é¡¹ç›®çš„è¡ç”Ÿä½œå“å¿…é¡»ä½¿ç”¨ç›¸åŒçš„è®¸å¯è¯

å¦‚éœ€å•†ä¸šä½¿ç”¨ï¼Œè¯·è”ç³»ä½œè€…è·å¾—æˆæƒã€‚